(this["webpackJsonpandrii-baliuk-22-10-2019"]=this["webpackJsonpandrii-baliuk-22-10-2019"]||[]).push([[0],{148:function(e,t,r){e.exports=r(232)},159:function(e,t,r){},213:function(e,t,r){},222:function(e,t,r){},226:function(e,t,r){},228:function(e,t,r){},229:function(e,t,r){},231:function(e,t,r){},232:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(36),o=r(4),i=r.n(o),s=r(132),u=r.n(s),l=r(34),p=r(49),m=r(37),h=r(28),f=r(35),v=r(3),d=r.n(v),y=r(234),g=r(73),E=r(23),O=r(142),b=r(235),w=r(238),j=r(239),S=r(7),T="k4pzNwqtinSGxxUrQ9F4Au2ezhaWTpxG",P="http://dataservice.accuweather.com",_=!1,k={metric:"Metric",imperial:"Imperial"},N={light:"Light",dark:"Dark"},C="/",D="/location",x="/favorites";r(159);var L=function(e){var t=e.location,r=e.style,c=e.unit,o=e.setTheme,i=e.setTemparatureUnit,s=Object(a.useState)(!1),u=Object(O.a)(s,2),l=u[0],p=u[1],m=n.a.createElement(b.a,{onClick:function(){},className:d()("settings-menu",{dark:r===N.dark})},n.a.createElement(b.a.Item,{key:"theme"},n.a.createElement("div",{className:"settings-name"},"Theme:"),n.a.createElement(w.a.Group,{value:r,onChange:function(e){var t=e.target;return o(t.value)}},n.a.createElement(w.a.Button,{value:N.light},"Light"),n.a.createElement(w.a.Button,{value:N.dark},"Dark"))),n.a.createElement(b.a.Divider,null),n.a.createElement(b.a.Item,{key:"unit"},n.a.createElement("div",{className:"settings-name"},"Temperature:"),n.a.createElement(w.a.Group,{value:c,onChange:function(e){var t=e.target;return i(t.value)}},n.a.createElement(w.a.Button,{value:k.metric},"\xb0C"),n.a.createElement(w.a.Button,{value:k.imperial},"\xb0F"))));return n.a.createElement("div",{className:"header-content"},n.a.createElement("div",{className:"header-part"},n.a.createElement("div",{className:"header-brand"},n.a.createElement("h2",null,"Weather"))),n.a.createElement("div",{className:"header-part"},n.a.createElement(b.a,{mode:"horizontal",selectedKeys:[t.pathname],className:"header-menu"},n.a.createElement(b.a.Item,{key:C},n.a.createElement(g.b,{to:C},"Home")),n.a.createElement(b.a.Item,{key:x},n.a.createElement(g.b,{to:x},"Favorites"))),n.a.createElement(j.a,{className:"header-settings",overlay:m,placement:"bottomRight",onVisibleChange:function(e){return p(e)},visible:l},n.a.createElement(S.a,{type:"setting"}))))},U=r(21),F="app/settings/SET_TEMPERATURE_UNIT",A="app/settings/SET_THEME_STYLE",W="app/settings/ADD_FAVORITE",I="app/settings/REMOVE_FAVORITE";function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(r,!0).forEach((function(t){Object(U.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=function(e,t){switch(t.type){case F:return window.localStorage.setItem("temperatureUnit",t.unit),G({},e,{temperatureUnit:t.unit});case A:return window.localStorage.setItem("themeStyle",t.style),G({},e,{themeStyle:t.style})}},K=r(76);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(r,!0).forEach((function(t){Object(U.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=function(e,t){switch(t.type){case W:var r=[].concat(Object(K.a)(e.favorites),[t.data]);return window.localStorage.setItem("favorites",JSON.stringify(r)),z({},e,{favorites:r});case I:var a=e.favorites.filter((function(e){return e.Key!==t.keyId}));return window.localStorage.setItem("favorites",JSON.stringify(a)),z({},e,{favorites:a})}};var J={temperatureUnit:window.localStorage.getItem("temperatureUnit")||k.metric,themeStyle:window.localStorage.getItem("themeStyle")||N.light,favorites:window.localStorage.getItem("favorites")?JSON.parse(window.localStorage.getItem("favorites")):[]},B=function(e){return{type:F,unit:e}},Q=function(e){return{type:A,style:e}},q=function(e){return{type:W,data:e}},Y=function(e){return{type:I,keyId:e}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;return M(e,t)||V(e,t)||e},$=Object(c.b)((function(e){return{unit:e.settings.temperatureUnit,style:e.settings.themeStyle}}),(function(e){return{setTemparatureUnit:function(t){return e(B(t))},setTheme:function(t){return e(Q(t))}}}))(L),X=Object(E.g)($),ee=r(237),te=r(233);r(213);var re=function(){return n.a.createElement("div",{className:"loading-container"},n.a.createElement(te.a,{size:"large"}))};function ae(e){return"https://developer.accuweather.com/sites/default/files/".concat(("0"+e).slice(-2),"-s.png")}r(222);var ne=["Day","Night"];var ce=function(e){var t=e.dailyForecasts;return e.temperatureUnit,n.a.createElement("div",{className:"forecasts"},t.map((function(e){var t=new Date(e.Date);return n.a.createElement("div",{key:e.EpochDate,className:"forecast"},n.a.createElement("div",{className:"__week-name"},function(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()]}(t)),n.a.createElement("div",{className:"__week-day"},"".concat(t.getDate()," ").concat(function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}(t).substring(0,3))),n.a.createElement("div",{className:"__weather-of-day"},ne.map((function(t){return n.a.createElement("div",{key:t,className:"__part-of-time"},n.a.createElement("div",null,"".concat(t,":")),n.a.createElement("div",{className:"__weather-icon"},n.a.createElement("img",{src:ae(e[t].Icon),alt:e[t].IconPhrase}),n.a.createElement("div",null,e[t].IconPhrase)))}))),n.a.createElement("div",{className:"__weather-temparature"},n.a.createElement("div",{className:"__temparature"},"Min: ",n.a.createElement("span",null,"".concat(e.Temperature.Minimum.Value," \xb0").concat(e.Temperature.Minimum.Unit))),n.a.createElement("div",{className:"__temparature"},"Max: ",n.a.createElement("span",null,"".concat(e.Temperature.Maximum.Value," \xb0").concat(e.Temperature.Maximum.Unit)))))})))},oe=r(236),ie=r(141),se=function(e,t){var r;return function(){var a=this,n=arguments,c=function(){return e.apply(a,n)};clearTimeout(r),r=setTimeout(c,t)}},ue=/[^A-Za-z\s]/gi,le=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(m.a)(this,Object(h.a)(t).call(this,e))).handlerSearchChange=function(e){r.setState({searchCity:e.replace(ue,"")})},r.handlerSearchCity=function(e){r.props.onSearch(e.replace(ue,""))},r.handlerSelectCity=function(e){var t="empty"!==e?e:"";r.setState({searchCity:""}),r.props.onSelected(t)},r.renderAutoCompleteList=function(){var e=r.props,t=e.data,a=e.isLoading;return""===r.state.searchCity?[]:a?[n.a.createElement(oe.a.Option,{disabled:!0,key:"empty"},n.a.createElement(re,null))]:t.length?t.map((function(e){return n.a.createElement(oe.a.Option,{key:e.Key},"".concat(e.LocalizedName," (").concat(e.AdministrativeArea.LocalizedName,", ").concat(e.Country.LocalizedName,")"))})):[n.a.createElement(oe.a.Option,{disabled:!0,key:"empty"},"Not Found")]},r.state={searchCity:""},r.handlerSearchCity=se(r.handlerSearchCity,500),r}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.searchCity;return n.a.createElement("div",{className:"search-container"},n.a.createElement(oe.a,{className:"search",dropdownMatchSelectWidth:!1,dropdownStyle:{width:300},dataSource:this.renderAutoCompleteList(),placeholder:"Enter city",optionLabelProp:"text",onSelect:this.handlerSelectCity,onSearch:this.handlerSearchCity,onChange:this.handlerSearchChange,value:e},n.a.createElement(ie.a,{suffix:n.a.createElement(S.a,{type:"search"})})))}}]),t}(a.Component),pe=(r(226),function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(m.a)(this,Object(h.a)(t).call(this,e))).handlerFavorite=function(){var e=r.props,t=e.currentLocation,a=e.addToFavorite,n=e.removeFromFavorite;e.isFavorite?n(t.Key):a(t)},r.handlerSearchLocation=function(e){var t=r.props,a=t.searchLocation,n=t.cleanupSearchLocation;e?a(e):n()},r.handlerSelectedLocation=function(e){var t=r.props,a=t.autocomplete,n=t.getWeather,c=a.find((function(t){return t.Key===e}));c&&n(c)},r.state={isChangedTemparatureUnit:!1},r}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getCurrentLocationWeather,r=e.getWeather,a=e.match.params,n=e.location.state;a&&n?r(n.location):t()}},{key:"componentDidUpdate",value:function(e){if(this.props.weatherGetState.error||this.props.forecastsGetState.error)ee.a.error({title:"Failed to get weather",content:"Please refresh page or try later."});else if(!e.weatherGetState.inProgress||this.props.weatherGetState.inProgress){if(this.props.temperatureUnit!==e.temperatureUnit){var t=this.props,r=t.getForecastsWeather,a=t.currentLocation;this.setState({isChangedTemparatureUnit:!0}),r(a.Key,this.props.temperatureUnit===k.metric,!0)}e.location.pathname!==this.props.location.pathname&&this.props.location.pathname===C&&this.props.getCurrentLocationWeather(),this.state.isChangedTemparatureUnit&&e.forecastsGetState.inProgress&&!this.props.forecastsGetState.inProgress&&this.setState({isChangedTemparatureUnit:!1})}else{var n=this.props;(0,n.getForecastsWeather)(n.currentLocation.Key,this.props.temperatureUnit===k.metric)}}},{key:"render",value:function(){var e=this.props,t=e.weatherGetState,r=e.forecastsGetState;if(!this.state.isChangedTemparatureUnit&&(!t.lastUpdate||t.inProgress||!r.lastUpdate||r.inProgress))return n.a.createElement(re,null);if(t.error||r.error)return n.a.createElement(re,null);var a=this.props,c=a.currentLocation,o=a.currentWeather,i=a.temperatureUnit,s=a.isFavorite,u=a.forecasts,l=a.autocomplete,p=a.autocompleteState;return n.a.createElement("div",{className:"container landing-page"},n.a.createElement(le,{onSearch:this.handlerSearchLocation,onSelected:this.handlerSelectedLocation,data:l,isLoading:p.inProgress}),n.a.createElement("div",{className:"weather-container"},n.a.createElement("div",{className:"weather-location"},n.a.createElement("div",{className:"current-location"},n.a.createElement("div",{className:"location-name"},c.LocalizedName),n.a.createElement("div",{className:"location-country"},c.Country.LocalizedName)),n.a.createElement("div",{className:"location-favorite",onClick:this.handlerFavorite},s?n.a.createElement(S.a,{type:"heart",theme:"filled"}):n.a.createElement(S.a,{type:"heart"}))),n.a.createElement("div",{className:"weather-info"},n.a.createElement("div",{className:"weather-icon"},n.a.createElement("img",{src:ae(o.WeatherIcon),alt:o.WeatherText})),n.a.createElement("div",{className:"weather-temparature"},"".concat(o.Temperature[i].Value," \xb0").concat(o.Temperature[i].Unit)),n.a.createElement("div",{className:"weather-text"},o.WeatherText),n.a.createElement("div",null,u.Headline.Text)),n.a.createElement(ce,{dailyForecasts:u.DailyForecasts,temperatureUnit:i})))}}]),t}(a.Component)),me="app/weather/GET_CURRENT_LOCATION_WEATHER",he="app/weather/GET_WEATHER",fe="app/weather/GET_WEATHER_REQUESTED",ve="app/weather/GET_WEATHER_SUCCEEDED",de="app/weather/GET_WEATHER_FAILED",ye="app/weather/GET_FORECASTS",ge="app/weather/GET_FORECASTS_REQUESTED",Ee="app/weather/GET_FORECASTS_SUCCEEDED",Oe="app/weather/GET_FORECASTS_FAILED",be="app/weather/GET_FAVORITE_WEATHER",we="app/weather/GET_FAVORITE_WEATHER_REQUESTED",je="app/weather/GET_FAVORITE_WEATHER_SUCCEEDED",Se="app/weather/GET_FAVORITE_WEATHER_FAILED";function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(r,!0).forEach((function(t){Object(U.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e=function(e,t){switch(t.type){case fe:return Pe({},e,{currentWeather:{},getWeather:{error:null,inProgress:!0}});case ve:return Pe({},e,{currentWeather:t.weather[0],currentLocation:t.location,getWeather:{error:null,inProgress:!1,lastUpdate:Date.now()}});case de:return Pe({},e,{getWeather:{error:t.error,inProgress:!1,lastUpdate:Date.now()}})}};function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(r,!0).forEach((function(t){Object(U.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ce=function(e,t){switch(t.type){case ge:return Ne({},e,{forecasts:t.isSilent?e.forecasts:{},getForecasts:{error:null,inProgress:!0}});case Ee:return Ne({},e,{forecasts:t.response,getForecasts:{error:null,inProgress:!1,lastUpdate:Date.now()}});case Oe:return Ne({},e,{getForecasts:{error:t.error,inProgress:!1,lastUpdate:Date.now()}})}};function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(r,!0).forEach((function(t){Object(U.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Le=function(e,t){switch(t.type){case we:return xe({},e,{favorites:xe({},e.favorites,Object(U.a)({},t.location.Key,{})),getFavorites:xe({},e.getFavorites,Object(U.a)({},t.location.Key,{error:null,inProgress:!0}))});case je:return xe({},e,{favorites:xe({},e.favorites,Object(U.a)({},t.location.Key,t.weather[0])),getFavorites:xe({},e.getFavorites,Object(U.a)({},t.location.Key,{error:null,inProgress:!1,lastUpdate:Date.now()}))});case Se:return xe({},e,{getFavorites:xe({},e.getFavorites,Object(U.a)({},t.location.Key,{error:t.error,inProgress:!1,lastUpdate:Date.now()}))})}},Ue={currentLocation:{},currentWeather:{},forecasts:{},favorites:{},getWeather:{error:null,inProgress:!1,lastUpdate:null},getForecasts:{error:null,inProgress:!1,lastUpdate:null},getFavorites:{}},Fe=function(){return{type:me}},Ae=function(e){return{type:he,location:e}},We=function(e){return{type:fe,location:e}},Ie=function(e,t){return{type:ve,weather:e,location:t}},Re=function(e){return{type:de,error:e}},Ge=function(e,t,r){return{type:ye,keyId:e,isMetric:t,isSilent:r}},Me=function(e,t,r){return{type:ge,keyId:e,isMetric:t,isSilent:r}},Ke=function(e){return{type:Ee,response:e}},He=function(e){return{type:Oe,error:e}},ze=function(e){return{type:be,location:e}},Ve=function(e){return{type:we,location:e}},Je=function(e,t){return{type:je,weather:e,location:t}},Be=function(e,t){return{type:Se,error:e,location:t}},Qe=r(17),qe=r.n(Qe),Ye=r(14),Ze=r(86),$e=r(144),Xe=function(e){function t(e,r){var a;Object(l.a)(this,t);var n=e||{},c=n.status,o=n.statusText,i=n.url;a=Object(m.a)(this,Object(h.a)(t).call(this,o));try{Error.captureStackTrace(Object(Ze.a)(a),t)}catch(s){}return a.status=c,a.statusText=o,a.url=i,a.body=r,a}return Object(f.a)(t,e),t}(Object($e.a)(Error));var et={get:function(e){return _?new Promise((function(t){if(!window.localStorage.getItem(e))return t(fetch(e,{cache:"force-cache"}).then((function(e){return e.ok?e.json():e.json().then((function(t){throw new Xe(e,t)}))})).then((function(t){return window.localStorage.setItem(e,JSON.stringify(t)),t})));setTimeout((function(){return t(JSON.parse(window.localStorage.getItem(e)))}),0)})):fetch(e).then((function(e){return e.ok?e.json():e.json().then((function(t){throw new Xe(e,t)}))}))}},tt="".concat(P,"/locations/v1/cities"),rt="".concat(tt,"/autocomplete"),at="".concat(tt,"/geoposition/search"),nt="".concat(P,"/currentconditions/v1"),ct="".concat(P,"/forecasts/v1/daily/5day");function ot(e){return et.get("".concat(rt,"?apikey=").concat(T,"&q=").concat(e))}function it(e){return et.get("".concat(nt,"/").concat(e,"?apikey=").concat(T))}function st(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return et.get("".concat(ct,"/").concat(e,"?apikey=").concat(T,"&metric=").concat(t))}function ut(){return new Promise((function(e,t){"geolocation"in window.navigator&&navigator.geolocation.getCurrentPosition((function(t){var r=t.coords;return e({lat:Math.round(1e3*r.latitude)/1e3,lon:Math.round(1e3*r.longitude)/1e3})}),(function(){return t("Unable to get position")}))})).then((function(e){return function(e){var t=e.lat,r=e.lon;return et.get("".concat(at,"?apikey=").concat(T,"&q=").concat(t,",").concat(r))}(e)})).catch((function(){return ot("Tel Aviv").then((function(e){var t=e.find((function(e){return"Tel Aviv"===e.LocalizedName}));if(!t)throw new Error("Unable to get city id.");return t}))}))}var lt=qe.a.mark((function e(t){var r,a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.location,e.next=3,Object(Ye.b)(We(r));case 3:return e.prev=3,e.next=6,Object(Ye.a)(it,r.Key);case 6:return a=e.sent,e.next=9,Object(Ye.b)(Ie(a,r));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),e.next=15,Object(Ye.b)(Re(e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})),pt=qe.a.mark((function e(){var t;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ye.a)(ut);case 3:return t=e.sent,e.next=6,lt({location:t});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(Ye.b)(Re(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),mt=qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ye.c)(me,pt);case 2:case"end":return e.stop()}}),e)})),ht=qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ye.c)(he,lt);case 2:case"end":return e.stop()}}),e)})),ft=qe.a.mark((function e(t){var r,a,n,c;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.keyId,a=t.isMetric,n=t.isSilent,e.next=3,Object(Ye.b)(Me(r,a,n));case 3:return e.prev=3,e.next=6,Object(Ye.a)(st,r,a);case 6:return c=e.sent,e.next=9,Object(Ye.b)(Ke(c));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),e.next=15,Object(Ye.b)(He(e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})),vt=qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ye.c)(ye,ft);case 2:case"end":return e.stop()}}),e)})),dt=qe.a.mark((function e(t){var r,a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.location,e.next=3,Object(Ye.b)(Ve(r));case 3:return e.prev=3,e.next=6,Object(Ye.a)(it,r.Key);case 6:return a=e.sent,e.next=9,Object(Ye.b)(Je(a,r));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),e.next=15,Object(Ye.b)(Be(e.t0,r));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})),yt=[mt,ht,vt,qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ye.c)(be,dt);case 2:case"end":return e.stop()}}),e)}))],gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;return _e(e,t)||Le(e,t)||Ce(e,t)||e},Et="app/location/GET_SEARCH_LOCATION",Ot="app/location/GET_SEARCH_LOCATION_REQUESTED",bt="app/location/GET_SEARCH_LOCATION_SUCCEEDED",wt="app/location/GET_SEARCH_LOCATION_FAILED",jt="app/location/CLEANUP_SEARCH_LOCATION";function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(r,!0).forEach((function(t){Object(U.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pt=function(e,t){switch(t.type){case Ot:return Tt({},e,{getSearchLocation:{error:null,inProgress:!0}});case bt:return Tt({},e,{serachLocation:t.response,getSearchLocation:{error:null,inProgress:!1,lastUpdate:Date.now()}});case wt:return Tt({},e,{getSearchLocation:{error:t.error,inProgress:!1,lastUpdate:Date.now()}});case jt:return Tt({},e,{serachLocation:[],getSearchLocation:{error:null,inProgress:!0}})}},_t={serachLocation:[],getSearchLocation:{error:null,inProgress:!1,lastUpdate:null}},kt=function(e){return{type:Et,text:e}},Nt=function(e){return{type:Ot,text:e}},Ct=function(e){return{type:bt,response:e}},Dt=function(e){return{type:wt,error:e}},xt=function(){return{type:jt}},Lt=qe.a.mark((function e(t){var r,a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.text,e.next=3,Object(Ye.b)(Nt(r));case 3:return e.prev=3,e.next=6,Object(Ye.a)(ot,r);case 6:return a=e.sent,e.next=9,Object(Ye.b)(Ct(a));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),e.next=15,Object(Ye.b)(Dt(e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})),Ut=[qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ye.c)(Et,Lt);case 2:case"end":return e.stop()}}),e)}))],Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;return Pt(e,t)||e};var At=Object(c.b)((function(e){return{currentLocation:e.weather.currentLocation,currentWeather:e.weather.currentWeather,weatherGetState:e.weather.getWeather,temperatureUnit:e.settings.temperatureUnit,forecasts:e.weather.forecasts,forecastsGetState:e.weather.getForecasts,isFavorite:(t=e.weather.currentLocation,r=e.settings.favorites,!(!r.length||!t.Key)&&void 0!==r.find((function(e){return e.Key===t.Key}))),autocomplete:e.location.serachLocation,autocompleteState:e.location.getSearchLocation};var t,r}),(function(e){return{getWeather:function(t){return e(Ae(t))},getCurrentLocationWeather:function(){return e(Fe())},getForecastsWeather:function(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(Ge(t,r,a))},addToFavorite:function(t){return e(q(t))},removeFromFavorite:function(t){return e(Y(t))},searchLocation:function(t){return e(kt(t))},cleanupSearchLocation:function(){return e(xt())}}}))(pe),Wt=Object(E.g)(At),It=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(m.a)(this,Object(h.a)(t).call(this,e))).isLoading=function(){var e=r.props,t=e.weather,a=e.weatherState;return!t&&!a||(!a.hasOwnProperty("inProgress")||a.inProgress)},r.state={},r}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location;(0,e.getWeather)(t)}},{key:"render",value:function(){var e=this.props,t=e.location,r=e.weather,a=e.weatherState,c=e.onRemove,o=e.temperatureUnit,i=e.onSelect;return n.a.createElement("div",{className:"favorite",onClick:i},n.a.createElement("div",{className:"__location"},n.a.createElement("div",{className:"__location-name"},t.LocalizedName),n.a.createElement("div",{className:"__location-country"},t.Country.LocalizedName),n.a.createElement("div",{className:"__favorite-remove",onClick:function(){c()}},n.a.createElement(S.a,{type:"delete",theme:"filled"}))),n.a.createElement("div",{className:"__weather-info"},this.isLoading()?n.a.createElement(re,null):a.error?n.a.createElement("div",{className:"__weather-error"},n.a.createElement(S.a,{type:"close-circle"}),n.a.createElement("div",{className:"__weather-error-text"},"Failed to get data.")):n.a.createElement("div",null,n.a.createElement("div",{className:"__weather-icon"},n.a.createElement("img",{src:ae(r.WeatherIcon),alt:r.WeatherText})),n.a.createElement("div",{className:"__weather-temparature"},"".concat(r.Temperature[o].Value," \xb0").concat(r.Temperature[o].Unit)))))}}]),t}(a.Component);r(228);var Rt=function(e){var t=e.favorites,r=e.getFavoriteWeather,a=e.favoritesWeather,c=e.favoritesWeatherState,o=e.temperatureUnit,i=e.removeFromFavorite,s=e.history;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"favorites"},t.map((function(e){return n.a.createElement("div",{key:e.Key,className:"favorite-container"},n.a.createElement(It,{location:e,weather:a[e.Key],weatherState:c[e.Key],getWeather:r,temperatureUnit:o,onRemove:function(){return i(e.Key)},onSelect:function(){s.push({pathname:"".concat(D,"/").concat(e.Key),state:{location:e}})}}))}))))},Gt=Object(c.b)((function(e){return{favorites:e.settings.favorites,favoritesWeather:e.weather.favorites,favoritesWeatherState:e.weather.getFavorites,temperatureUnit:e.settings.temperatureUnit}}),(function(e){return{getFavoriteWeather:function(t){return e(ze(t))},removeFromFavorite:function(t){return e(Y(t))}}}))(Rt),Mt=Object(E.g)(Gt),Kt=(r(229),function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).handlerOfStyle=function(){r.props.style===N.dark?document.body.classList.add("dark"):document.body.classList.remove("dark")},r}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.handlerOfStyle()}},{key:"componentDidUpdate",value:function(e){this.props.style!==e.style&&this.handlerOfStyle()}},{key:"render",value:function(){var e=this.props.style;return n.a.createElement(g.a,null,n.a.createElement(y.a,{className:d()("app",{dark:e===N.dark})},n.a.createElement(y.a.Header,null,n.a.createElement(X,null)),n.a.createElement(y.a.Content,{className:"app__content"},n.a.createElement(E.d,null,n.a.createElement(E.b,{exact:!0,path:C,component:Wt}),n.a.createElement(E.b,{exact:!0,path:"".concat(D,"/:locationId"),component:Wt}),n.a.createElement(E.b,{exact:!0,path:x,component:Mt}),n.a.createElement(E.b,{render:function(){return n.a.createElement(E.a,{to:C})}})))))}}]),t}(a.Component)),Ht=Object(c.b)((function(e){return{style:e.settings.themeStyle}}))(Kt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var zt=r(38),Vt=r(143),Jt=[].concat(Object(K.a)(yt),Object(K.a)(Ut)),Bt=Object(zt.c)({weather:gt,settings:Z,location:Ft}),Qt={},qt=Object(Vt.a)(),Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=[qt],r=[],a=zt.d;var n=Object(zt.e)(Bt,e,a.apply(void 0,[zt.a.apply(void 0,t)].concat(r)));return Jt.forEach(qt.run),n}();r(230),r(231);u.a.config(),i.a.render(n.a.createElement(c.a,{store:Yt},n.a.createElement(Ht,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[148,1,2]]]);
//# sourceMappingURL=main.1b7dca46.chunk.js.map